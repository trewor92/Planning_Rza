import {Config} from 'config'
import * as R from 'ramda'

let abort;
async function fetchTableData(apiPath, dataPath)
{
  const fullPath = R.concat(apiPath,dataPath)
  if(abort)
  {
    abort.abort();
  }
  abort = new AbortController();
  let signal= abort.signal;
  let response = await fetch(fullPath, {signal});
  return await response.json()
}

export  const fetchApiTableData = async (path) => await fetchTableData(Config.tableApiRootPath,path)
